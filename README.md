# LLM Member - æ”¯æŒLLM Proxyçš„ä¼šå‘˜ç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªä¸“ä¸ºå¼€å‘è€…å’Œä¼ä¸šæ‰“é€ çš„LLMä»£ç†æœåŠ¡å¹³å°ï¼Œæä¾›å®Œæ•´çš„ä¼šå‘˜ç®¡ç†ä½“ç³»å’Œçµæ´»çš„æ¨¡å‹æ¥å…¥ç®¡ç†ã€‚

## ğŸ¯ äº§å“å®šä½

**é¢å‘ç”¨æˆ·ï¼š**
- ğŸ‘¥ **ä¼šå‘˜æ³¨å†Œç™»å½•**: å®Œæ•´çš„ç”¨æˆ·æ³¨å†Œã€ç™»å½•ä½“ç³»
- ğŸ’³ **å……å€¼ç»­è´¹**: æ”¯æŒå¤šç§æ”¯ä»˜æ–¹å¼çš„å……å€¼å’Œå¥—é¤ç»­è´¹
- ğŸ“Š **ä½¿ç”¨ç»Ÿè®¡**: æ¸…æ™°çš„ç”¨é‡ç»Ÿè®¡å’Œæ¶ˆè´¹è®°å½•
- ğŸ”’ **æƒé™ç®¡ç†**: åŸºäºå¥—é¤çš„æœåŠ¡æƒé™æ§åˆ¶

**é¢å‘ç®¡ç†ï¼š**
- ğŸ“¦ **å¥—é¤ç®¡ç†**: çµæ´»è®¾ç½®ä¼šå‘˜å¥—é¤å’Œè®¡è´¹è§„åˆ™
- ğŸ¤– **æ¨¡å‹æ¥å…¥**: æ”¯æŒå¤šç§å¤§æ¨¡å‹çš„ç»Ÿä¸€æ¥å…¥å’Œç®¡ç†
- ğŸ’° **åœ¨çº¿æ”¯ä»˜**: é›†æˆå¤šç§æ”¯ä»˜æ–¹å¼ï¼Œæ”¯æŒè‡ªåŠ¨ç»­è´¹
- ğŸ‘¨â€ğŸ’¼ **ä¼šå‘˜ç®¡ç†**: å®Œæ•´çš„ä¼šå‘˜ä¿¡æ¯ã€è®¢å•ã€æ—¥å¿—ç®¡ç†
- ğŸ“ˆ **æ•°æ®åˆ†æ**: æ”¶å…¥ç»Ÿè®¡ã€å¢é•¿åˆ†æã€è¿è¥æ•°æ®ç›‘æ§

**è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ**
- âŒ ä¸ç”¨å¤„ç†ä¸åŒæ¨¡å‹çš„æ¥å£å·®å¼‚
- âŒ ä¸ç”¨æ‹…å¿ƒæ¨¡å‹æœåŠ¡çš„ç¨³å®šæ€§å’Œåˆ‡æ¢
- âŒ ä¸ç”¨ä»é›¶å¼€å§‹æ„å»ºç”¨æˆ·ç®¡ç†å’Œè®¡è´¹ç³»ç»Ÿ
- âŒ ä¸ç”¨åœ¨ä¸šåŠ¡ä¾§é¢‘ç¹å‡çº§è°ƒæ•´æ¨¡å‹é€‚é…
- âŒ ä¸ç”¨æ‹…å¿ƒ API KEY åœ¨ä¸šåŠ¡ä¾§æ³„æ¼

## ğŸ’¡ æ ¸å¿ƒä»·å€¼

### ğŸ­ **å¯¹ç”¨æˆ·å®Œå…¨é€æ˜çš„AIæœåŠ¡**
æ‚¨çš„ç”¨æˆ·åªéœ€è¦ï¼š
1. æ³¨å†Œè´¦å·
2. é€‰æ‹©å¥—é¤
3. å¼€å§‹ä½¿ç”¨

**ç”¨æˆ·æ— éœ€çŸ¥é“ï¼š**
- ä»€ä¹ˆæ˜¯GPTã€Claudeã€é€šä¹‰åƒé—®
- ä»€ä¹ˆæ˜¯Tokenã€Temperatureã€Max Tokens
- å“ªä¸ªæ¨¡å‹é€‚åˆä»€ä¹ˆåœºæ™¯
- å¦‚ä½•ç”³è¯·APIå¯†é’¥

### âš™ï¸ **å¯¹ç®¡ç†ä¾§å¯çµæ´»è°ƒæ•´ä¸Šæ¸¸æ¨¡å‹**
- **æ™ºèƒ½è·¯ç”±**: æ ¹æ®è´Ÿè½½å’Œæˆæœ¬è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜æ¨¡å‹
- **ç­–ç•¥é…ç½®**: çµæ´»é…ç½®ä¸åŒåœºæ™¯ä¸‹çš„æ¨¡å‹ä½¿ç”¨ç­–ç•¥
- **å®æ—¶åˆ‡æ¢**: æ”¯æŒåœ¨çº¿è°ƒæ•´æ¨¡å‹é…ç½®ï¼Œæ— éœ€é‡å¯æœåŠ¡
- **æˆæœ¬æ§åˆ¶**: ç²¾ç»†åŒ–çš„æˆæœ¬æ§åˆ¶å’Œé¢„ç®—ç®¡ç†

### ğŸ”§ **å¼€ç®±å³ç”¨ï¼Œå…¼å®¹OpenAIæ¥å£**
åªè¦æ˜¯é€‚é…OpenAIçš„æ¥å£ï¼Œç›´æ¥æ¥å…¥å³å¯ä½¿ç”¨ï¼Œæ— éœ€ä»»ä½•ä¿®æ”¹ï¼š

```javascript
// æ ‡å‡†OpenAIæ¥å£è°ƒç”¨æ–¹å¼
fetch('/v1/chat/completions', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer user_token',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    model: 'gpt-3.5-turbo',
    messages: [{
      role: 'user',
      content: 'å¸®æˆ‘å†™ä¸€ä»½äº§å“ä»‹ç»'
    }]
  })
})
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. éƒ¨ç½²æœåŠ¡

```bash
docker run -d \
   --name llm-member-app \
   -p 8080:8080 \
   -v llm_storage:/app/storage \
   -e APP_PORT=8080 \
   -e APP_MODE=test \
   -e ADMIN_USERNAME=admin \
   -e ADMIN_PASSWORD=admin123 \
   -e DEEPSEEK_API_KEY=sk-you-api-key \
   optltd/llm-member:latest
```
å®Œæ•´é…ç½®å‚è€ƒ[.env.example](.env.example)

### 2. é…ç½®æ‚¨çš„äº§å“

1. **åœ¨æ‚¨çš„äº§å“ä¸­é›†æˆLLM Memberè®¤è¯æœåŠ¡ï¼š**

å¢åŠ ç™»å½•æ³¨å†ŒåŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡LLM Memberè®¤è¯æœåŠ¡è¿›è¡Œæ³¨å†Œå’Œç™»å½•ã€‚
Authorization Url: `https://your-domain.com/authorization`

2. **åœ¨æ‚¨çš„äº§å“ä¸­å­˜å‚¨ç”¨æˆ·è®¤è¯ä¿¡æ¯ï¼š**
åœ¨LLM Member è®¤è¯æˆåŠŸåï¼Œå¦‚æœè®¾ç½®äº†`Callback Url`ï¼Œè®¤è¯æœåŠ¡ä¼šå°†ç”¨æˆ·ä¿¡æ¯è¿”å›ç»™æ‚¨çš„äº§å“ã€‚æ‚¨éœ€è¦åœ¨æ‚¨çš„äº§å“ä¸­å­˜å‚¨è¿™äº›ä¿¡æ¯ï¼Œä»¥ä¾¿åç»­çš„APIè°ƒç”¨ã€‚

payload:
```json
{
  "token": "sk-xxxxxxxxxxxxxxxx", // ä¸´æ—¶ token
  "sign": "sn-xxxxxxxxxxxxxxxxx", // ç­¾åä¿¡æ¯
  "time": "2023-12-31T23:59:59Z"  // current time
}
```


2.1 **Web Callbackè®¾ç½®**ï¼š
Web App Callback Url: `https://your-web-app.com/auth-callback`
å®é™…å›è°ƒè¯·æ±‚ä¸ºï¼š
`https://your-web-app.com/auth-callback?token=sk-...&sign=...&time=...`

2.2 **Mobile App Callbackè®¾ç½®**ï¼š
Mobile App Callback Url: `x-you-app://auth-callback`
å®é™…å›è°ƒè¯·æ±‚ä¸ºï¼š
`x-you-app://auth-callback?token=sk-...&sign=...&time=...`

2.3 **Desktop App Callbackè®¾ç½®**ï¼š
Mobile App Callback Url: `x-you-app://auth-callback`
å®é™…å›è°ƒè¯·æ±‚ä¸ºï¼š
`x-you-app://auth-callback?token=sk-...&sign=...&time=...`

2.4 é€šè¿‡`token`è·å–ç”¨æˆ·ä¿¡æ¯ï¼š
è·å–ç”¨æˆ·ä¿¡æ¯æ¥å£ï¼š`https://your-domain.com/v1/verify-token`
```js
const resp = fetch(`https://your-domain.com/v1/verify-token`, {
  method: 'GET',
  headers: {
    'Authorization': 'Bearer ${token}',
    'Content-Type': 'application/json'
  },
})
```
å“åº”ä½“ï¼š
```json
{
  "email": "user@example.com",
  "username": "User Name",
  "user_plan": "basic",
  "api_token": "sk-xxxxxxxxxxxxxxxx",
  "expire_at": "2023-12-31T23:59:59Z"
}
```

3. **åœ¨æ‚¨çš„äº§å“ä¸­é›†æˆLLM MemberæœåŠ¡ï¼š**

3.1 **è¯·æ±‚å¤§æ¨¡å‹**ï¼š
Base Urlï¼š`https://your-domain.com/v1`
å®ä¾‹è¯·æ±‚ï¼š
```js
// æ ‡å‡†OpenAIæ¥å£è°ƒç”¨æ–¹å¼
fetch(`${baseURL}/chat/completions`, {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${api_token}`,
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    model: 'gpt-3.5-turbo',
    messages: [{
      role: 'user',
      content: 'å¸®æˆ‘å†™ä¸€ä»½äº§å“ä»‹ç»'
    }]
  })
})
```

3.2 **è·å–ç”¨æˆ·ä¿¡æ¯**ï¼š
è·å–ç”¨æˆ·ä¿¡æ¯æ¥å£ï¼š`https://your-domain.com/v1/user-profile`
```js
const resp = fetch(`https://your-domain.com/v1/user-profile`, {
  method: 'GET',
  headers: {
    'Authorization': `Bearer ${api_token}`,
    'Content-Type': 'application/json'
  },
})
```
å“åº”ä½“ï¼š
```json
{
  "email": "user@example.com",
  "username": "User Name",
  "user_plan": "basic",
  "expire_at": "2023-12-31T23:59:59Z"
}
```

3.3 **è·å–ä½¿ç”¨ç»Ÿè®¡ä¿¡æ¯**ï¼š
è·å–ç”¨æˆ·ä¿¡æ¯æ¥å£ï¼š`https://your-domain.com/api/usage`
```js
cosnt resp = fetch(`https://your-domain.com/api/usage`, {
  method: 'GET',
  headers: {
    'Authorization': 'Bearer user_token',
    'Content-Type': 'application/json'
  },
})
```
å“åº”ä½“ï¼š
```json
{
  "email": "user@example.com",
  "username": "User Name",
  "user_plan": "basic",
  "expire_at": "2023-12-31T23:59:59Z"
}
```

### 3. ä¸ºç”¨æˆ·æä¾›æœåŠ¡

ç”¨æˆ·è®¿é—®æ‚¨çš„äº§å“æ—¶ï¼š
1. å¼•å¯¼ç”¨æˆ·æ³¨å†Œ/ç™»å½•
2. å±•ç¤ºå¥—é¤é€‰æ‹©é¡µé¢
3. ç”¨æˆ·é€‰æ‹©å¥—é¤å¹¶æ”¯ä»˜
4. ç«‹å³å¼€å§‹ä½¿ç”¨AIåŠŸèƒ½

## ğŸ’° å•†ä¸šæ¨¡å¼

### ç”¨æˆ·å¥—é¤ç¤ºä¾‹

**ç¿»è¯‘åº”ç”¨å¥—é¤**
| å¥—é¤ | æœˆè´¹ | åŒ…å«æœåŠ¡ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|----------|
| ğŸŒ± **å…¥é—¨ç‰ˆ** | Â¥99/æœˆ | 10ä¸‡å­—ç¬¦/æœˆ | ä¸ªäººé¡¹ç›®ã€å°å‹åº”ç”¨ |
| ğŸš€ **ä¸“ä¸šç‰ˆ** | Â¥299/æœˆ | 50ä¸‡å­—ç¬¦/æœˆ + ä¼˜å…ˆæ”¯æŒ | ä¸­å°ä¼ä¸šã€æˆé•¿æœŸäº§å“ |
| ğŸ¢ **ä¼ä¸šç‰ˆ** | Â¥999/æœˆ | 200ä¸‡å­—ç¬¦/æœˆ + ä¸“å±å®¢æœ | å¤§å‹ä¼ä¸šã€é«˜å¹¶å‘åº”ç”¨ |
| ğŸ¯ **å®šåˆ¶ç‰ˆ** | é¢è®® | æ— é™åˆ¶ + ç§æœ‰éƒ¨ç½² | ç‰¹æ®Šéœ€æ±‚ã€åˆè§„è¦æ±‚ |

**å†™ä½œåº”ç”¨å¥—é¤**
| å¥—é¤ | æœˆè´¹ | åŒ…å«æœåŠ¡ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|----------|
| ğŸŒ± **å…¥é—¨ç‰ˆ** | Â¥99/æœˆ | 1000æ¬¡/æœˆ | ä¸ªäººé¡¹ç›®ã€å°å‹åº”ç”¨ |
| ğŸš€ **ä¸“ä¸šç‰ˆ** | Â¥299/æœˆ | 5000æ¬¡/æœˆ + ä¼˜å…ˆæ”¯æŒ | ä¸­å°ä¼ä¸šã€æˆé•¿æœŸäº§å“ |
| ğŸ¢ **ä¼ä¸šç‰ˆ** | Â¥999/æœˆ | 20000æ¬¡/æœˆ + ä¸“å±å®¢æœ | å¤§å‹ä¼ä¸šã€é«˜å¹¶å‘åº”ç”¨ |
| ğŸ¯ **å®šåˆ¶ç‰ˆ** | é¢è®® | æ— é™åˆ¶ + ç§æœ‰éƒ¨ç½² | ç‰¹æ®Šéœ€æ±‚ã€åˆè§„è¦æ±‚ |

---

**è®©AIèƒ½åŠ›è§¦æ‰‹å¯åŠï¼Œè®©æ‚¨ä¸“æ³¨äºæ ¸å¿ƒä¸šåŠ¡ä»·å€¼åˆ›é€ ã€‚**
